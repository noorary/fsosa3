{"version":3,"sources":["components/Filter.js","components/Phonebook.js","components/Form.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearchChange","value","onChange","Phonebook","personsToShow","deletePerson","map","person","key","name","number","type","onClick","id","Form","newName","handleNameChange","newNumber","handleNumberChange","addPerson","onSubmit","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","notification","style","content","notificationStyle","color","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","showAll","setShowAll","setNotification","useEffect","console","log","personService","initialPersons","showNotification","setTimeout","updateNumber","find","p","updatedPerson","updatedPersons","catch","error","updateName","filter","toLowerCase","includes","event","target","preventDefault","findIndex","window","confirm","n","returnedPerson","concat","errorMessage","selected","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e50d281c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ searchTerm, handleSearchChange}) => {\n    return (\n        <div>\n            Filter shown with\n            <input value={searchTerm} onChange={handleSearchChange} ></input>\n        </div>\n    )\n}\n\n\nexport default Filter","import React from 'react'\n\nconst Phonebook = ({ personsToShow, deletePerson }) => {\n\n    return (\n        <div>\n            <h2>Numbers</h2>\n            <ul>\n        {personsToShow.map(person =>\n        <li key={person.name}>{person.name} {person.number} \n        <button type=\"button\" onClick={() => deletePerson(person.id)}>delete</button>\n        </li>\n        )}\n      </ul>\n        </div>\n    )\n}\n\nexport default Phonebook","import React from 'react'\n\nconst Form = ({ newName, handleNameChange, newNumber, handleNumberChange, addPerson}) => {\n\n    return (\n        <div>\n            <h2>Add a new</h2>\n\n            <form onSubmit={addPerson}>\n                <div>\n                    name: <input\n                    value={newName}\n                    onChange=Â {handleNameChange} />\n                </div>\n                <div>\n                number: <input\n                value={newNumber}\n                onChange={handleNumberChange} />\n                </div>\n                <div>\n                 <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n\n    )\n}\n\nexport default Form","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst addPerson = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updatePerson = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll, addPerson, deletePerson, updatePerson\n}","import React from 'react'\n\nconst Notification = ({ notification }) => {\n    const style = notification.style\n    const content = notification.content \n\n    const notificationStyle = {\n        color: style === \"success\" ?  'green' : 'red',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n    if(content === null) {\n        return null\n    }\n\n    if(style === null) {\n        return null\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {content}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Phonebook from './components/Phonebook'\nimport Form from './components/Form'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [notification, setNotification] = useState({\n    content: null,\n    style: null\n  })\n\n  useEffect(() => {\n    console.log('use effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons)\n\n  const showNotification = (content, style) => {\n    setNotification({\n      content: content,\n      style: style\n    })\n    setTimeout(() => {\n      setNotification({\n        content: null,\n        style: null\n      })\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if(persons.findIndex(person => person.name === newName) > -1) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(n => n.name === newName)\n        updateNumber(person.id, newNumber)\n        showNotification(`${newName} was updated`, 'success')\n        setNewNumber('')\n        setNewName('')\n      }\n      \n      else {\n        setNewName('')\n        setNewNumber('')\n      }\n    } else if(persons.findIndex(person => person.number === newNumber) > -1) {\n      if(window.confirm(`${newNumber} is already added to phonebook, replace the old name with a new name?`)) {\n        const person = persons.find(n => n.number === newNumber)\n        updateName(person.id, newName)\n        showNotification(`'${newNumber}' was updated`, 'success')\n        setNewNumber('')\n        setNewName('')\n      } else {\n        setNewNumber('')\n        setNewName('')\n      }\n      \n    }\n    \n    else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .addPerson(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          showNotification(error.response.data.errorMessage, 'failure')\n        })\n\n        showNotification(`'${newName}' was added to phonebook`, 'success')\n    }\n    \n  }\n\n  const deletePerson = (id) => {\n    const selected = persons.findIndex((person) => {\n      return person.id === id\n    })\n\n    if(window.confirm(`Delete ${persons[selected].name}?`)) {\n      personService\n      .deletePerson(id)\n      .then(deletedPerson => {\n          showNotification(`${persons[selected].name} was deleted`, 'success')\n          setPersons(persons.filter(p => p.id !== id))\n      })\n    }\n\n  }\n\n  const updateNumber = (id, newNumber) => {\n    const person = persons.find(p => p.id === id)\n    const updatedPerson = { ...person, number : newNumber}\n\n    personService\n      .updatePerson(id, updatedPerson)\n      .then(updatedPersons => {\n        setPersons(persons.map(person => person.id !== id ? person : updatedPersons))\n      }).catch((error) => {\n        console.log(error)\n        showNotification(`Failed to update ${updatedPerson.name}`, 'failure')\n      })\n  }\n\n  const updateName = (id, newName) => {\n    const person = persons.find(p => p.id === id)\n    const updatedPerson = { ...person, name : newName}\n\n    personService\n      .updatePerson(id, updatedPerson)\n      .then(updatedPersons => {\n        setPersons(persons.map(person => person.id !== id ? person : updatedPersons))\n      }).catch((error) => {\n        showNotification(`Failed to update ${updatedPerson.number}`, 'failure')\n      })\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    \n    setSearchTerm(event.target.value)\n    if(event.target.value === ('')) {\n      setShowAll(true)\n    } else {\n      setShowAll(false)\n    }\n  }\n\n  const personsToShow = showAll\n    ? persons \n    : persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification notification={notification}/>\n      <Filter\n        searchTerm={searchTerm}\n        handleSearchChange={handleSearchChange} />\n\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n\n      <Phonebook\n        personsToShow={personsToShow}\n        deletePerson={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}